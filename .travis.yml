sudo: false
language: perl
perl:
  - "5.26"
  #- "5.24"
  #- "5.22"
  #- "5.20"
  #- "5.18"
  #- "5.16"
  #- "5.14"
  #- "5.12"
  #- "5.10"
notifications:
  email:
    recipients:
      - olaf@wundersolutions.com
    on_success: always
    on_failure: always
before_install:
  - git clone git://github.com/travis-perl/helpers ~/travis-perl-helpers
  - source ~/travis-perl-helpers/init
  - build-perl
  - perl -V
  - cpanm -n App::cpm
  - cd $TRAVIS_BUILD_DIR
install:
  - cpm install -g Dist::Zilla::Plugin::Test::Compile
  - cpm install -g
  - which dzil
  - perl -pi -e "s/\[@/;[@/" dist.ini
  - dzil install
  - perl -pi -e "s/;[@/[@/" dist.ini
script:
  - dzil test --all
